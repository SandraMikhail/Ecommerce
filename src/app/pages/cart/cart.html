<section class="bg-gray-200 p-4 flex justify-center">
  <div class="container grid items-start sm:grid-cols-12 gap-10">
    <div class="col-span-8 rounded-lg shadow">
      <div class="flex items-center space-x-2">
        <h1 class="text-5xl">cart</h1>
        <span class="text-3xl">{{cartDetails.products.length}} items</span>
      </div>

        @for(item of cartDetails.products;track item.product._id){
          <div class="bg-white p-2 rounded shadow my-2  grid sm:grid-cols-12">
        <div class="col-span-1">
          <img [src]="item.product.imageCover" class="w-full" [alt]="item.product.title"/>
        </div>
        <div class="col-span-11 flex items-center justify-between">
          <div class="my-3">
             <h3>{{item.product.title}}</h3>
        <div class="flex items-center space-x-6 ">
              <div class="bg-gray-200 border rounded-lg flex items-center  space-x-10 py-1 px-2">
              <button class="cursor-pointer" (click)="updateCount(item.product.id, item.count -1)"> <i class="fas fa-minus"></i> </button>
              <span>{{item.count}}</span>
              <button class="cursor-pointer" (click)="updateCount(item.product.id, item.count +1)"><i class="fas fa-plus"></i>  </button>
            </div>
            <button class="cursor-pointer" (click)="removeItem(item.product.id)"> <i class="fas fa-trash-can"></i> </button>
        </div>
          </div>
          <span>{{item.price * item.count}}EGP</span>
        </div>
      </div>
        }
    </div>

    <div class="col-span-4 bg-white p-4 rounded-lg shadow">
      <h2 class="text-2xl">Order Summery</h2>
      <div class="flex items-center justify-between my-5">
        <h3 class="text-2xl">price:</h3>
        <h4 class="text-2xl">{{cartDetails.totalCartPrice}}</h4>
      </div>
      <button class="btn bg-green-700 text-white" [routerLink]="['/checkout',cartDetails._id ]">Proceed to checkout</button>
    </div>
  </div>
</section>
